<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--edit the meta tag below to hold YOUR name!-->
    <meta name="author" content="Kenneth Weed">
    <meta name="description" content="Week 7 Assignment practicing Javascript & HTML">
    <title>Week 7 | Pay Form Calculator Assignment</title>
</head>
<body>

    <!--title of the page-->
   <h1 style=>Pay Calculator Form </h1>

   <!--start of the form-->
   <!--each <input> must have an id that matches its corresponding label -->
   <!--each form element is separated by a break space (new line) -->
    <form>

        <table>

            <tr>
                <td>
                    <label for="first">First Name: </label>
                </td> 

                <td>
                    <input type="text" id="fname" name="fname">
                </td>
            </tr>
            
            <!--I added this to ensure each form element is seperated by a new line-->
            <tr>
                <td>
                    <br>
                </td>
            </tr>

            <tr>
                <td>
                    <label for="last">Last Name: </label>
                </td>

                <td>
                    <input type="text" id="lname" name="lname">
                </td>
            </tr>

            <tr>
                <td>
                    <br>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label for="hours">Hours Worked: </label>
                </td>

                <td>
                    <input type="text" id="hours" name="hours"> 
                <td>
            </tr>
            
            <!--The potential user error is located here. If a user decides to enter a string for the hours worked, there will be an error.-->
            

            <tr>
                <td>
                    <br>
                </td>
            </tr>

            <tr>
                <td>
                    <label for="rate">Hourly Rate: </label>
                    
                </td>
                
                <td>
                    <input type="text" id="rate" name="rate">
                </td>
                    
                
            </tr>
            
            <tr>
                <td>
                    <br>
                </td>
            </tr>
            
            <tr>
                <td>
                    <input type="button" id="enter-button" value="Enter">
                </td>
            </tr>

            <tr>
                <td>
                    <div id="final" style="border:1px solid rgb(87, 86, 86); padding:15px; background-color:rgb(168, 168, 168);">

                        <h3>Employee Info: </h3>
                        <p id="info" style="font-family:Courier New, monospace;"><i>Information will be loaded once above form is filled.</i></p>
                        <!---NOTES FOR TESTING:
                            *below is where the form values (and new values processed by the js) will be displayed-->
                        <p id="check" style="font-family:Courier New, monospace; width:220px; text-align:right;"></p>
                    </div>
                </td>


            </tr>

            <tr>
                <td>
                    <br>
                </td>
            </tr>

            <tr>
                
                <!-- give the button below (that is the only form element without a label) an id of "enter-button"-->
        
                <td>
                    <h3><i>If the above information is correct, please press "SUBMIT"</i></h3>
                </td>
                <!--NOTES FOR TESTING:
                *clicking the below button will trigger a call to the submitNow()
                *success will be determined if correct info is displayed in the alert()-->
                <td>
                    <input type="button" id="submit" value="SUBMIT">
                </td>
            </tr>
        
        </table>
    </form>



    <script>
        //edit the below statement to select the #enter-button id from the HTML file
        document.querySelector(`#enter-button`).addEventListener(`click`, alertName)
        
        

        function alertName(e)
        {

            var fname = document.querySelector('#fname').value
            var lname = document.querySelector('#lname').value
            var hours = Number(document.querySelector('#hours').value) 
            var rate = Number(document.querySelector('#rate').value)//can't do math with strings
            //console.log() all four values
            
            console.log(fname)
            console.log(lname)
            console.log(hours)
            console.log(rate)

            //add the first and last name values together and store into a new variable called 'full' holding the user's full name
            var fullname = ``
            fullname += fname
            fullname += " "
            fullname += lname

            //console.log() the full name value
            console.log(fullname)


            //convert both hours and rate to Number() data types
            //completed above


            //NOTE: DO NOT MOVE ON UNTIL YOU ARE ABLE TO DISPLAY THE CORRECT VALUES! This is a practice in testing as you build! 

            //create gross, taxAmount, net variables and store corresponding data to them
            //use a tax percentage of 20% (.2)
            var gross = hours * rate
            var taxRate = .2
            var taxAmount = gross * taxRate
            var netIncome = gross - taxAmount
            

            //console.log() all three processed values, rounded to the second decimal place
            //console.log(.toFixed(2))
            console.log(gross.toFixed(2))
            console.log(taxAmount.toFixed(2))
            console.log(netIncome.toFixed(2))


            //create a new variable called 'finalMessage' that holds the literal string value of the following, each value on a new line (use <br>): full name, hours worked*, hourly rate*   *--> rounded to the second decimal place 
            var finalMessage =`
            <table>
                <tr>
                    <td>
                        Full Name:</td><td>${fullname}</td>
                </tr>

                <tr>
                    <td>
                        Hours Worked:</td><td>${hours.toFixed(2)}</td>
                </tr>

                <tr>
                    <td>
                        Hourly Rate:</td><td>$${rate.toFixed(2)}</td>
                </tr>
            </table>`

            //create a new var called 'info' and store the entire #info *HTML element* to it
            var infoVariable = document.querySelector(`#info`)

            //create a new var called 'num' and store the entire #check *HTML element* to it
            var num = document.querySelector(`#check`)

            //edit the innerHTML of the #info element (now the 'info' js var) to hold the value of 'finalMessage' 
            infoVariable.innerHTML = (``) 
            infoVariable.innerHTML += finalMessage


            //edit the innerHTML of the #check element (now the 'check' js var) to hold a literal string with the following values: gross pay, tax amount, net pay. All three values should be rounded to the second decimal place.  Use <br> to break onto a new line for each value
            var finalNumbers = `
            <table>
                <tr>
                    <td>
                          Gross Pay:
                    </td>
                    <td>
                        $${gross.toFixed(2)}
                    </td>
                </tr>
    
                <tr>
                    <td>
                        Tax Rate:
                    </td>
                    <td>
                        ${(taxRate * 100).toFixed(0)}%
                    </td>
                </tr>
    
                <tr>
                    <td>
                        Net Income:
                    </td>

                    <td>
                        $${netIncome.toFixed(2)}
                    </td>
                </tr>
        
            </table>`
            
            num.innerHTML = finalNumbers


            //add a 'click' event listener to the #submit HTML element (HINT: this is the first step in the <script> )
            //when the #submit button is clicked, the submitNow function should run
            document.querySelector('#submit').addEventListener('click', submitNow)

        
            function submitNow(e)
            {

                /*NOTE FOR TESTING:
                    *if written correctly, you will see an alert() with all info entered as well as processed!*/

                alert(`${fullname}\nHOURS: ${hours}\nRATE: $${rate.toFixed(2)}\n\nGROSS PAY: $${gross.toFixed(2)}\nTAX AMOUNT: $${taxAmount.toFixed(2)}\nNET PAY: $${netIncome.toFixed(2)}`)
            }
            
        }
        
    </script>
    
</body>
</html>
